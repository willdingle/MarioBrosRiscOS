#ifndef ENEMY_H
#define ENEMY_H

#include "oslib/osspriteop.h"

typedef struct Level Level;

enum EnemyType
{
	SHELLCREEPER,
	SIDESTEPPER,
	FIGHTERFLY,
	SLIPICE
};

typedef struct Enemy
{
	float x;
	float y;
	float width;
	float height;
	float xSpeed;
	float xMaxSpeed;
	float ySpeed;
	char facing;
	int isFalling;
	int isOnPlat;
	int inPipe;
	int inHitState;
	int dying;
	int dead;
}
Enemy;

typedef struct Shellcreeper
{
	Enemy enemy;
	osspriteop_header *stillFrame;
	osspriteop_header *walk0Frame;
	osspriteop_header *walk1Frame;
	osspriteop_header *hit0Frame;
	osspriteop_header *hit1Frame;
	osspriteop_header *curFrame;
	int frame;
	int lastWalk;
	osspriteop_trans_tab *transTab;
	
}
Shellcreeper;

void updateShellcreeperAnimation(Shellcreeper *shellcreeper);
void updateEnemy(Enemy *enemy, void *enemyChildPoint, enum EnemyType enemyType, Level *level, osspriteop_area *area, void *logFile);
void enemyPlatCollision(Enemy *enemy, void *enemyChildPoint, enum EnemyType enemyType, Level *level, void *logFile);

#endif