#include "Level.h"

#include "Sprites.h"

#include <stdlib.h>

void initLevel(Level *level, osspriteop_area *area, int size, FILE *logFile)
{
	selectLevelSprites(
		level,
		area,
		size,
		logFile
	);
	
	switch (level->levelNum)
	{
		case 1:
			level->numOfShellcreepers = 2;
			level->shellcreepers = (Shellcreeper*) malloc(level->numOfShellcreepers * sizeof(Shellcreeper) + 10000);
			level->shellcreepers[0].enemy.x = 700;
			level->shellcreepers[0].enemy.y = level->plats[0].y + level->plats[0].height + 20;
			level->shellcreepers[0].enemy.width = 12;
			level->shellcreepers[0].enemy.height = 16;
			level->shellcreepers[0].enemy.xSpeed = 7;
			level->shellcreepers[0].enemy.xMaxSpeed = 7;
			level->shellcreepers[0].enemy.isFalling = 1;
			level->shellcreepers[0].enemy.facing = 'L';
			level->shellcreepers[0].enemy.inPipe = 0;
			level->shellcreepers[0].enemy.inHitState = 0;
			level->shellcreepers[0].enemy.dying = 0;
			level->shellcreepers[0].enemy.dead = 0;
			
			selectShellcreeperSprites(
				&(level->shellcreepers[0]),
				area,
				size,
				logFile
			);
			
			level->shellcreepers[1] = level->shellcreepers[0];
			level->shellcreepers[1].enemy.x = 500;
			level->shellcreepers[1].enemy.facing = 'R';
			
			break;
	}
}

void getPlatRow(enum PlatRow *thisPlatRow, int i)
{
	switch (i)
	{
		case 0:
			*thisPlatRow = TOP_LEFT;
			break;
		case 1:
			*thisPlatRow = TOP_RIGHT;
			break;
		case 2:
			*thisPlatRow = MIDDLE_LEFT;
			break;
		case 3:
			*thisPlatRow = MIDDLE_RIGHT;
			break;
		case 4:
			*thisPlatRow = MIDDLE;
			break;
		case 5:
			*thisPlatRow = BOTTOM_LEFT;
			break;
		case 6:
			*thisPlatRow = BOTTOM_RIGHT;
			break;
	}
}